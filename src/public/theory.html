<!DOCTYPE html>
<html lang="ru">
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js" ></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Personal security</title>
  </head>
    <body>
      <div class="container container-theory">
        <section class="navigator">
          <div class="nav_logo">
            <a class="nav_logo-link" href="/"><img id="nav_logo" src="./images/logo.svg" alt="Personal security"></a>
          </div>
          <ul class="nav_list">
            <li class="nav_item"><a href="course.html">Тренировки</a></li>
            <li class="nav_item active"><a href="theory.html">Теория</a></li>
            <li class="nav_item"><a href="situation.html">Ситуации</a></li>
          </ul>
          <div class="nav_list menu__wrapper">
            <div class="nav_el nav_menu nav_menu-btn" id="nav-menu-mob">
                <svg class="icons icons--menu" width="20" height="20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                  <use xlink:href="sprite.svg#icon-menu"></use>
                </svg>
            </div>
            <div class="nav_list nav_list-menu hide" id="menu-nav">
              <div class="nav_el nav_search" id="open-search-btn">
                <svg class="icons icons--search" width="24" height="24" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                   <use xlink:href="sprite.svg#icon-search"></use>
                </svg>
                <div class="nav_list-text">Поиск</div>
              </div>
              <a class="nav_el nav_profile" href="profile.html">
                <svg class="icons icons--profile" width="24" height="24" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                   <use xlink:href="sprite.svg#icon-profile"></use>
                </svg>
                <div class="nav_list-text">Аккаунт</div>
              </a>
            </div>
          </div>
          <div class="search-panel hide" id="search-panel">
            <div class="search-input_wrapper">
              <input type="text" class="search__input" placeholder="Поиск" id="search_input">
              <div class="search-btn" id="search-btn">
                <svg class="icons icons--search" width="24" height="24" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                   <use xlink:href="sprite.svg#icon-search"></use>
                </svg>
              </div>
              <div class="clear-btn hide" id="clear-btn">
                <svg class="icons icons--clear" width="16" height="16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                   <use xlink:href="sprite.svg#icon-close"></use>
                </svg>
              </div>
            </div>
            <div class="search-panel-close" id="close-search-btn">
              <svg class="icons icons--close" width="24" height="24" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                 <use xlink:href="sprite.svg#icon-close"></use>
              </svg>
            </div>
          </div>
        </section>

        <section class="content content-theory">
          <h1>Теория</h1>
          <div class="content-descr">Все уроки lorem вот одна из задачек с этого экзамена. Её задавали на экзамене 2019 года. На рисунке вы видите треугольник. Также известна длина некоторых частей треугольника.</div>

          <!-- <div class="skills skills-mob">
            <a class="skill skill-digital" href="safety.html">
              <h3>Цифровая безопасность</h3>
              <div class="text">Предотвращаем несанкционированный доступ к личной информации</div>
              <img src="./images/Антивирус_2.svg" />
              <div class="amount"><span class="number">15</span> материалов</div>
            </a>
            <a class="skill skill-personal" href="safety.html">
              <h3>Личная безопасность</h3>
              <div class="text">Как править, не привликая внимания санитаров</div>
              <img src="./images/network.png" />
              <div class="amount"><span class="number">9</span> материалов</div>
            </a>
            <a class="skill skill-financial" href="safety.html">
              <h3>Финансовая безопасность</h3>
            </a>
          </div> -->

          <div class="skills skills-desktop">
            <a class="skill skill-digital" href="safety.html">
              <h3>Цифровая безопасность</h3>
              <div class="text">Предотвращаем несанкционированный доступ к личной информации</div>
              <img src="./images/Антивирус_2.svg" />
              <div class="amount"><span class="number">15</span> материалов</div>
            </a>
            <a class="skill skill-personal" href="safety.html">
              <h3>Личная безопасность</h3>
              <div class="text">Как править, не привликая внимания санитаров</div>
              <img src="./images/network.png" />
              <div class="amount"><span class="number">9</span> материалов</div>
            </a>
            <a class="skill skill-financial" href="safety.html">
              <h3>Финансовая безопасность</h3>
              <div class="text">Как править, не привликая внимания санитаров</div>
              <img src="./images/VPN.png" />
              <div class="amount"><span class="number">10</span> материалов</div>
            </a>
          </div>

          <div class="materials materials-theory">
            <div class="material">
              <div class="material-list">

                <div class="material-el  material-el-done">
                  <div class="img"></div>
                  <h5>Настройки конфиденциальности в соцсетях</h5>
                  <div class="descr">
                    <div class="time">4 мин</div>
                    <div class="done">
                       <svg class="icons icons--done" width="24" height="24" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                          <use xlink:href="sprite.svg#icon-done"></use>
                       </svg>
                    </div>
                  </div>
                  <a href="exercise.html" class="link"></a>
                </div>

                <div class="material-el  material-el-done">
                  <div class="img"></div>
                  <h5>Настройки конфиденциальности в соцсетях</h5>
                  <div class="descr">
                    <div class="time">4 мин</div>
                    <div class="done">
                       <svg class="icons icons--done" width="24" height="24" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                          <use xlink:href="sprite.svg#icon-done"></use>
                       </svg>
                    </div>
                  </div>
                  <a href="exercise.html" class="link"></a>
                </div>
                <div class="material-el">
                  <div class="img">
                    <img src="./images/Антивирус_2.svg" />
                  </div>
                  <h5>Двухэтапный вход</h5>
                  <div class="descr">
                    <div class="time">14 мин</div>
                  </div>
                  <div class="btn-add-to-list" onClick="setList(this)">+</div>
                  <a href="exercise.html" class="link"></a>

                </div>
                <div class="material-el">
                  <div class="img">
                    <img src="./images/network.png" />
                  </div>
                  <h5>Трехэтапный вход</h5>
                  <div class="descr">
                    <div class="time">14 мин</div>
                    <div class="in-coaching">
                      <svg class="icons icons--profile" width="13" height="13" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                         <use xlink:href="sprite.svg#icon-profile"></use>
                      </svg>
                    </div>
                  </div>
                  <div class="btn-remove-from-list" onClick="setList(this)">-</div>
                  <a href="exercise.html" class="link"></a>

                </div>
                <div class="material-el">
                  <div class="img">
                    <img src="./images/VPN.png" />
                  </div>
                  <h5>Четырехэтапный вход</h5>
                  <div class="descr">
                    <div class="time">14 мин</div>
                    <div class="in-coaching">
                      <svg class="icons icons--profile" width="13" height="13" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                         <use xlink:href="sprite.svg#icon-profile"></use>
                      </svg>
                    </div>
                  </div>
                  <a href="exercise.html" class="link"></a>

                </div>
                <div class="material-el">
                  <div class="img"></div>
                  <h5>Пятиэтапный Пятиэтапный вход</h5>
                  <div class="descr">
                    <div class="time">14 мин</div>
                    <div class="in-coaching">
                      <svg class="icons icons--profile" width="13" height="13" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                         <use xlink:href="sprite.svg#icon-profile"></use>
                      </svg>
                    </div>
                  </div>
                  <a href="exercise.html" class="link"></a>

                </div>
                <div class="material-el">
                  <div class="img"></div>
                  <h5>Шестиэтапный вход</h5>
                  <div class="descr">
                    <div class="time">14 мин</div>
                    <div class="in-coaching">
                      <svg class="icons icons--profile" width="13" height="13" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                         <use xlink:href="sprite.svg#icon-profile"></use>
                      </svg>
                    </div>
                  </div>
                  <a href="exercise.html" class="link"></a>

                </div>

                <div class="material-el">
                  <div class="img"></div>
                  <h5>Двухэтапный вход</h5>
                  <div class="descr">
                    <div class="time">14 мин</div>
                  </div>
                  <a href="exercise.html" class="link"></a>

                </div>
                <div class="material-el">
                  <div class="img"></div>
                  <h5>Трехэтапный вход</h5>
                  <div class="descr">
                    <div class="time">14 мин</div>
                  </div>
                  <a href="exercise.html" class="link"></a>

                </div>
                <div class="material-el">
                  <div class="img"></div>
                  <h5>Четырехэтапный вход</h5>
                  <div class="descr">
                    <div class="time">14 мин</div>
                  </div>
                  <a href="exercise.html" class="link"></a>

                </div>
                <div class="material-el">
                  <div class="img"></div>
                  <h5>Пятиэтапный вход</h5>
                  <div class="descr">
                    <div class="time">14 мин</div>
                  </div>
                  <a href="exercise.html" class="link"></a>

                </div>
                <div class="material-el">
                  <div class="img"></div>
                  <h5>Шестиэтапный вход</h5>
                  <div class="descr">
                    <div class="time">14 мин</div>
                  </div>
                  <a href="exercise.html" class="link"></a>

                </div>
              </div>
            </div>
          </div>

        </section>
      </div>
      <footer>
        <div class="footer footer-main">
          <div class="footer_logo">
            <a class="footer_logo-link" href="/"><img src="./images/logo_small.svg" alt="Personal security" width="26" height="20"></a>
          </div>
          <ul class="footer_list">
            <li class="footer_item"><a href="about.html">О проекте</a></li>
            <li class="footer_item"><a href="/">Предложить новость</a></li>
          </ul>
        </div>
      </footer>

      <script>
        function setMinHeight(el, height) {
          el.css("min-height",  height)
        }

        $(document).ready(function() {
          var arrSkills = $(".skill")
          var minHeight =  arrSkills.eq(0).outerHeight()
          for (var i = 0; i < arrSkills.length; i++) {
            setMinHeight(arrSkills.eq(i), minHeight)
          }
        })

        $(window).on("resize", function (e) {
          var arrSkills = $(".skill")
          for (var i = 0; i < arrSkills.length; i++) {
            setMinHeight(arrSkills.eq(i), 0)
          }
          var minHeight = arrSkills.eq(0).outerHeight()
          for (var i = 0; i < arrSkills.length; i++) {
            setMinHeight(arrSkills.eq(i), minHeight)
          }
        })

        function setList(el) { // добавить удаление/добавление из списка на севрере
          let isInUserList = false //получать с сервера
          if (isInUserList) {
            // +  удалять из списка
            $(el).removeClass("btn-add-to-list")
            $(el).addClass("btn-remove-from-list")
            $(el).text("-")
          } else {
            // +  добавлять в список
            $(el).addClass("btn-add-to-list")
            $(el).removeClass("btn-remove-from-list")
            $(el).text("+")
          }
        }

        function getTooltip() {
          if ($(".btn-add-to-list") || $(".btn-add-to-list")) {
            let arrBtnAdd = $(".btn-add-to-list")
            let arrBtnRemove = $(".btn-remove-from-list")
            let popupRemove = $('<div class="popup">Убрать из своей тренировки<div class="arrow"></div></div>')
            var popupAdd = $('<div class="popup">Добавить в свою тренировку<div class="arrow"></div></div>')
            popupRemove.appendTo($("body"))
            popupAdd.appendTo($("body"))

            function onHoverIconAdd (i) {
              arrBtnAdd.eq(i).on("mouseenter", function (e) {
                var left = arrBtnAdd.eq(i).offset().left
                popupRemove.css("display", "block")
                var popupWidth = popupRemove.width()
                var bodyWidth = $("body").width()
                var shift = bodyWidth - (left + 15 + popupWidth)
                if (shift < 0)  {
                  left += shift
                  popupRemove.find($(".arrow")).css("left", ((shift*(-1)) + 15))
                }
                popupRemove.css("top", (arrBtnAdd.eq(i).offset().top + 35))
                popupRemove.css("left", (left - 15))
              }).on('mouseleave',function(){
                popupRemove.css("display", "none")
                popupRemove.find($(".arrow")).css("left", 15)
              })
            }

            function onHoverIconRemove (i) {
              arrBtnRemove.eq(i).on("mouseenter", function (e) {
                var left = arrBtnRemove.eq(i).offset().left
                popupAdd.css("display", "block")
                var popupWidth = popupAdd.width()
                var bodyWidth = $("body").width()
                var shift = bodyWidth - (left + 15 + popupWidth)
                if (shift < 0)  {
                  left += shift
                  popupAdd.find($(".arrow")).css("left", ((shift*(-1)) + 15))
                }
                popupAdd.css("top", (arrBtnRemove.eq(i).offset().top + 35))
                popupAdd.css("left", (left - 15))
              }).on('mouseleave',function(){
                popupAdd.css("display", "none")
                popupAdd.find($(".arrow")).css("left", 15)
              })
            }

            for (var i = 0; i < arrBtnAdd.length; i++) {
              onHoverIconAdd(i)
            }
            for (var i = 0; i < arrBtnRemove.length; i++) {
              onHoverIconRemove(i)
            }
          }
        }
        getTooltip()

      </script>
    </body>
</html>
